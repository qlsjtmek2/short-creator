# Would You Rather 쇼츠 생성기 - 개발 Todolist

> **생성일**: 2026-01-14
> **예상 기간**: 3일 (집중 개발)
> **총 작업**: 60개
> **목표**: 한국어 Would You Rather 쇼츠 자동 생성 시스템 구축

---

## 📋 프로젝트 개요

### 목적
한국 20-30대를 타겟으로 하는 Would You Rather 쇼츠를 자동으로 생성하여 높은 조회수와 참여율을 달성

### MVP Features
1. **질문 자동 생성** - ChatGPT API로 재미있는 현실적 질문 생성
2. **이미지 자동 소싱** - Pexels API로 무료 스톡 이미지 다운로드
3. **음성 합성** - 타입캐스트로 한국어 캐릭터 음성 (박창수/개나리)
4. **분할 화면 생성** - Canvas로 빨강 vs 파랑 대비 레이아웃
5. **영상 렌더링** - FFmpeg로 60초 1080x1920 쇼츠 생성

### 기술 스택
- **언어**: TypeScript, Node.js
- **API**: OpenAI (ChatGPT), 타입캐스트 (TTS), Pexels (이미지)
- **라이브러리**: Canvas (프레임 생성), FFmpeg (영상 렌더링)
- **폰트**: Pretendard (한글 최적화)

### 예상 성과
- **생성 시간**: 10개 영상 / 10분
- **영상당 비용**: $0.12
- **자동화율**: 95%

---

## 🎯 Phase 1: 프로젝트 초기화 및 환경 설정

**목표**: 개발 환경을 구축하고 기본 프로젝트 구조 생성

### 작업 목록
- [x] 프로젝트 폴더 구조 생성 (src/, lib/, output/ 등)
- [x] package.json 초기화 및 기본 설정
- [x] TypeScript 설정 (tsconfig.json)
- [x] ESLint + Prettier 설정
- [x] 환경 변수 템플릿 생성 (.env.example)

**예상 시간**: 30분

---

## 🎯 Phase 2: GitHub 프로젝트 분석 및 적응

**목표**: 기존 오픈소스 프로젝트에서 재사용 가능한 코드 식별

### 작업 목록
- [ ] GitHub 원본 프로젝트 clone 및 코드 분석
- [ ] 기존 코드에서 재사용 가능한 부분 식별

**참고**: [Would You Rather Shorts Generator](https://github.com/nachat-ayoub/wyr-shorts-generator)

**예상 시간**: 1시간

---

## 🎯 Phase 3: 인터페이스 정의

**목표**: 모듈 간 의존성을 최소화하는 표준 인터페이스 작성

### 작업 목록
- [ ] 인터페이스 정의 파일 작성 (types/interfaces.ts)
- [ ] 공통 타입 정의 (types/common.ts)

**인터페이스 목록**:
1. `IQuestionGenerator` - 질문 생성
2. `IImageProvider` - 이미지 제공
3. `ITTSProvider` - 음성 합성
4. `IFrameComposer` - 프레임 생성
5. `IVideoRenderer` - 영상 렌더링

**예상 시간**: 30분

---

## 🎯 Phase 4: API 키 발급 및 테스트

**목표**: 필요한 모든 API 키를 발급하고 연결 테스트

### 작업 목록
- [ ] OpenAI API 키 발급 및 .env 설정
- [ ] 타입캐스트 계정 생성 및 API 키 발급
- [ ] Pexels API 키 발급
- [ ] 각 API 연결 테스트 스크립트 작성

**참고 링크**:
- OpenAI: https://platform.openai.com/api-keys
- 타입캐스트: https://typecast.ai/
- Pexels: https://www.pexels.com/api/

**예상 시간**: 30분

---

## 🎯 Phase 5: 질문 생성 모듈 (IQuestionGenerator)

**목표**: ChatGPT API로 한국어 Would You Rather 질문 자동 생성

### 작업 목록
- [ ] ChatGPT 질문 생성 모듈 기본 구조 (ChatGPTQuestionGenerator)
- [ ] 한국어 Would You Rather 프롬프트 작성 및 최적화
- [ ] 질문 생성 테스트 (10개 샘플)
- [ ] 생성된 질문 검증 로직 추가

**프롬프트 예시**:
```
한국 20-30대가 진짜 고민할 만한 현실적이고 재미있는 Would You Rather 질문을 10개 생성해줘.
- 일상적이고 공감 가능한 선택
- 두 선택지 모두 장단점이 명확
- 너무 극단적이거나 불쾌하지 않은 내용
```

**예상 시간**: 1.5시간

---

## 🎯 Phase 6: TTS 모듈 (ITTSProvider)

**목표**: 타입캐스트 API로 한국어 캐릭터 음성 생성

### 작업 목록
- [ ] 타입캐스트 TTS 모듈 기본 구조 (TypecastTTSProvider)
- [ ] 박창수/개나리 캐릭터 설정
- [ ] 음성 생성 테스트 (샘플 텍스트)
- [ ] 음성 파일 저장 및 관리 로직

**캐릭터 선택**:
- **박창수** (충청도) - 2025년 쇼츠 대세, 친근함
- **개나리** (경상도) - 귀여움, 재미있는 콘텐츠에 적합

**예상 시간**: 2시간

---

## 🎯 Phase 7: 이미지 제공 모듈 (IImageProvider)

**목표**: Pexels API로 키워드 기반 무료 이미지 자동 다운로드

### 작업 목록
- [ ] Pexels 이미지 제공 모듈 (PexelsImageProvider)
- [ ] 키워드 기반 이미지 검색 로직
- [ ] 이미지 다운로드 및 저장
- [ ] 이미지 캐싱 로직 (중복 다운로드 방지)

**최적화**:
- 병렬 다운로드 (Promise.all)
- 로컬 캐시로 API 호출 최소화
- 실패 시 재시도 로직

**예상 시간**: 1.5시간

---

## 🎯 Phase 8: 프레임 생성 모듈 (IFrameComposer)

**목표**: Node.js Canvas로 빨강 vs 파랑 분할 화면 생성

### 작업 목록
- [ ] Pretendard 폰트 다운로드 및 설정
- [ ] Canvas 분할 화면 컴포저 기본 구조 (CanvasSplitScreenComposer)
- [ ] 1080x1920 캔버스 생성 및 레이아웃 설정
- [ ] 빨강/파랑 배경 그라데이션 구현
- [ ] 이미지 배치 및 크롭 로직
- [ ] 한글 텍스트 렌더링 (Pretendard)
- [ ] VS 중앙 구분선 및 장식 추가
- [ ] 프레임 생성 테스트 (샘플 질문)

**레이아웃**:
```
┌─────────────────┐
│  빨강  │  파랑  │
│ 배경   │ 배경   │
├────────┼────────┤
│이미지A │이미지B │
├────────┼────────┤
│옵션A   │옵션B   │
└─────────────────┘
      VS
  "당신이라면?"
```

**예상 시간**: 3시간

---

## 🎯 Phase 9: 영상 렌더링 모듈 (IVideoRenderer)

**목표**: FFmpeg로 프레임 + 음성을 60초 영상으로 합성

### 작업 목록
- [ ] FFmpeg 설치 확인 및 버전 체크
- [ ] 영상 렌더러 기본 구조 (FFmpegVideoRenderer)
- [ ] 프레임 + 오디오 합성 로직
- [ ] 배경음악 추가 로직 (선택적)
- [ ] H.264 인코딩 설정 최적화
- [ ] 영상 렌더링 테스트 (1개 샘플)

**FFmpeg 명령 예시**:
```bash
ffmpeg -loop 1 -i frame.png -i audio.mp3 \
  -c:v libx264 -tune stillimage -c:a aac \
  -b:a 192k -pix_fmt yuv420p \
  -shortest -t 60 output.mp4
```

**예상 시간**: 2시간

---

## 🎯 Phase 10: 메인 오케스트레이터

**목표**: 5개 모듈을 통합하여 전체 워크플로우 구현

### 작업 목록
- [ ] ShortsGenerator 메인 클래스 작성
- [ ] 의존성 주입 설정
- [ ] 병렬 처리 로직 (Promise.all)
- [ ] 에러 핸들링 및 재시도 로직
- [ ] 진행 상황 로깅 (콘솔 + 파일)

**워크플로우**:
```
질문 생성 (30초)
  ↓
이미지 소싱 (병렬, 1분)
  ↓
TTS 생성 (병렬, 2분)
  ↓
프레임 생성 (병렬, 30초)
  ↓
영상 렌더링 (순차, 5분)
```

**예상 시간**: 2시간

---

## 🎯 Phase 11: 통합 테스트

**목표**: 전체 시스템을 통합하여 첫 영상 생성 및 품질 검증

### 작업 목록
- [ ] 첫 테스트 영상 생성 (1개)
- [ ] 생성된 영상 품질 확인 (해상도, 음질, 싱크)
- [ ] 시각적 요소 조정 (색상, 폰트 크기, 레이아웃)
- [ ] 음성 타이밍 및 볼륨 조정

**검증 체크리스트**:
- ✅ 해상도: 1080x1920 정확
- ✅ 프레임: 30fps 안정
- ✅ 음질: 명확하고 듣기 좋음
- ✅ 싱크: 음성과 화면 일치
- ✅ 텍스트: 한글 가독성 좋음
- ✅ 색상: 빨강/파랑 대비 명확

**예상 시간**: 2시간

---

## 🎯 Phase 12: 배치 생성 및 최적화

**목표**: 10개 영상을 자동으로 생성하고 성능 최적화

### 작업 목록
- [ ] CLI 인터페이스 구현 (yarn generate 10)
- [ ] 배치 생성 스크립트 작성
- [ ] 생성 설정 파일 (config.json)
- [ ] 10개 영상 배치 생성 테스트
- [ ] 성능 측정 (생성 시간, 메모리 사용량)
- [ ] 병렬 처리 최적화 (동시 실행 수 조정)
- [ ] 메모리 관리 최적화 (이미지/오디오 정리)

**성능 목표**:
- 10개 영상: 10분 이하
- 메모리: 2GB 이하
- CPU: 안정적 사용

**예상 시간**: 2시간

---

## 🎯 Phase 13: 문서화 및 마무리

**목표**: 사용 가이드 작성 및 프로젝트 마무리

### 작업 목록
- [ ] README.md 작성 (설치, 사용법)
- [ ] API 키 설정 가이드 문서화
- [ ] 문제 해결 가이드 (troubleshooting)

**README 포함 내용**:
1. 프로젝트 소개
2. 설치 방법
3. API 키 설정
4. 사용 방법
5. 설정 옵션
6. 문제 해결
7. 라이선스

**예상 시간**: 1시간

---

## 📊 진행 상황

### 전체 진행률
- **완료**: 0/60 (0%)
- **진행 중**: Phase 1
- **대기**: Phase 2-13

### Phase별 진행률
| Phase | 작업 수 | 완료 | 진행률 |
|-------|---------|------|--------|
| Phase 1 | 5 | 0 | 0% |
| Phase 2 | 2 | 0 | 0% |
| Phase 3 | 2 | 0 | 0% |
| Phase 4 | 4 | 0 | 0% |
| Phase 5 | 4 | 0 | 0% |
| Phase 6 | 4 | 0 | 0% |
| Phase 7 | 4 | 0 | 0% |
| Phase 8 | 8 | 0 | 0% |
| Phase 9 | 6 | 0 | 0% |
| Phase 10 | 5 | 0 | 0% |
| Phase 11 | 4 | 0 | 0% |
| Phase 12 | 7 | 0 | 0% |
| Phase 13 | 3 | 0 | 0% |

---

## 🔧 의존성 관계

```
Phase 1 (초기화)
  ↓
Phase 2 (GitHub 분석)
  ↓
Phase 3 (인터페이스)
  ↓
Phase 4 (API 키)
  ↓
Phase 5-9 (모듈 구현, 병렬 가능)
  ↓
Phase 10 (통합)
  ↓
Phase 11 (테스트)
  ↓
Phase 12 (배치 최적화)
  ↓
Phase 13 (문서화)
```

**병렬 가능 Phase**: 5, 6, 7, 8, 9 (각 모듈은 독립적으로 개발 가능)

---

## 💡 주요 결정사항

### 기술 선택 이유
1. **Node.js + TypeScript**: JavaScript 생태계, 타입 안정성
2. **타입캐스트**: 한국어 최적화, 캐릭터 음성
3. **Pexels**: 무료, 라이선스 명확, API 안정
4. **Canvas**: 빠른 이미지 처리, Node.js 네이티브
5. **FFmpeg**: 업계 표준, 강력한 영상 처리

### 인터페이스 설계 이유
- **교체 용이성**: TTS를 타입캐스트 → ElevenLabs로 교체 가능
- **테스트 용이성**: Mock 객체로 단위 테스트
- **점진적 개선**: 한 번에 하나씩 모듈 교체 가능

---

## 📈 예상 비용 분석

### 초기 투자 (1회)
- 개발 시간: 3일 (24시간)
- 도구 설치: 무료 (Node.js, FFmpeg 등)

### 운영 비용 (월간, 300개 영상 기준)
- ChatGPT API: $1.50 (~$0.005/영상)
- 타입캐스트: $11/월 (20분 플랜)
- Pexels: 무료
- **총**: ~$12.50/월

### 영상당 단가
- $0.04/영상 (300개 기준)

---

## 🎯 다음 단계 (Phase 1 이후)

1. **Phase 2-4**: 환경 설정 완료
2. **Phase 5-9**: 병렬로 모듈 개발
3. **Phase 10-11**: 통합 및 테스트
4. **Phase 12-13**: 최적화 및 문서화

---

## 🚨 주의사항

### 필수 확인 사항
- [ ] FFmpeg 설치 확인
- [ ] Node.js 16 이상 버전
- [ ] 충분한 디스크 공간 (영상 저장용, 최소 10GB)
- [ ] API 키 발급 완료

### 보안
- [ ] .env 파일을 .gitignore에 추가
- [ ] API 키 절대 공개 저장소에 커밋하지 않기
- [ ] .env.example 템플릿만 공유

---

## 📝 변경 이력

| 날짜 | 변경 내용 | 버전 |
|------|-----------|------|
| 2026-01-14 | 초기 todolist 생성 | 1.0 |

---

**프로젝트 시작일**: 2026-01-14
**목표 완료일**: 2026-01-17 (3일)
**상태**: 🟡 준비 중
